--------LEAKY BUCKET--------
import java.util.*;

class LeakyBucket {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);

        System.out.print("Bucket capacity: ");
        int capacity = sc.nextInt();

        System.out.print("Output rate: ");
        int rate = sc.nextInt();

        System.out.print("Number of packets: ");
        int n = sc.nextInt();

        int bucket = 0;

        System.out.println("\nPacket\tBucket\tStatus");

        for (int i = 0; i < n; i++) {

            int packet = sc.nextInt();

            // check overflow
            if (bucket + packet <= capacity) {
                bucket += packet;
                System.out.println(packet + "\t" + bucket + "\tAccepted");
            } else {
                System.out.println(packet + "\t" + bucket + "\tDropped");
            }

            // leak packets
            bucket = Math.max(0, bucket - rate);
        }

        sc.close();
    }
}


--------TOKEN BUCKET--------
import java.util.*;

class TokenBucket {

    public static void main(String[] args) {

        Scanner sc = new Scanner(System.in);

        System.out.print("Bucket capacity: ");
        int capacity = sc.nextInt();

        System.out.print("Token rate: ");
        int rate = sc.nextInt();

        System.out.print("Number of packets: ");
        int n = sc.nextInt();

        int tokens = 0;

        System.out.println("\nPacket\tTokens\tStatus");

        for (int i = 0; i < n; i++) {

            int packet = sc.nextInt();

            // add tokens
            tokens = Math.min(capacity, tokens + rate);

            // check availability
            if (packet <= tokens) {
                tokens -= packet;
                System.out.println(packet + "\t" + tokens + "\tAccepted");
            } else {
                System.out.println(packet + "\t" + tokens + "\tDropped");
            }
        }

        sc.close();
    }
}
